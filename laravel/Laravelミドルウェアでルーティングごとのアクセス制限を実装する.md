# Laravelミドルウェアでルーティングごとのアクセス制限を実装する

方法1

middlewareに引数を渡す

メリット

- ルーティングファイルを見たときにどの権限だと実行できるかを視認できる

デメリット

- 権限を管理画面から操作する場合に対応できない

方法2

データベースに権限の情報を保存する

メリットデメリットは方法1の逆で、ルーティングを見たときにわからないが、権限を画面から操作する要件に対応出来る。

## 考察

画面から権限を操作するという要件の場合は方法2を使うしかない。

そうでない場合でも、基本的には拡張性を考えてデータベースに保存するのがよいと思う。データベースに保存すると、先述の通り権限を画面から操作するようにできたり、別々のアプリケーションが同じデータベースを使う場合になった場合も対応しやすい。

また、ルーティングを見たときに権限の状態が分からないというのは、権限の情報を表示する画面を作れば解決できる。そのため、ルーティングファイルを見たときの視認性というのはそれほどの大きなメリットではないと考える。
